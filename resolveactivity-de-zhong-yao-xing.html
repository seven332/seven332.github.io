<!DOCTYPE html>
<html lang="zh"><head><meta charset="utf-8"><title>resolveActivity 的重要性</title><link rel="stylesheet" href="http://seven332.github.io/theme/css/main.css"><link href="http://seven332.github.io/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Hippo's Blog RSS Feed"><!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]--></head><body id="index" class="home"><header id="banner" class="body"><h1><a href="http://seven332.github.io/">Hippo's Blog </a></h1><nav><ul><li class="active"><a href="http://seven332.github.io/category/android.html">Android</a></li><li><a href="http://seven332.github.io/category/wu.html">无</a></li></ul></nav></header><section id="content" class="body"><article><header><h1 class="entry-title"><a href="http://seven332.github.io/resolveactivity-de-zhong-yao-xing.html" rel="bookmark" title="Permalink to resolveActivity 的重要性">resolveActivity 的重要性</a></h1></header><div class="entry-content"><footer class="post-info"><abbr class="published" title="2015-10-08T21:18:00+08:00"> 发表于：15-10-08 21 Thu </abbr><p> 作者： <a class="url fn" href="http://seven332.github.io/author/hippo.html">Hippo</a></p><p>分类： <a href="http://seven332.github.io/category/android.html">Android</a></p></footer><p>在 Android Developers 发的视频 <a href="https://www.youtube.com/watch?v=HGElAW224dE">Protecting Implicit Intents with Runtime Checks (Android Development Patterns Ep 1)</a> 中看到了自己以前犯过的一个错误，就是没有处理 Implicit Intents 导致的 ActivityNotFoundException 异常。</p><p>每当需要用 Implicit Intents 的时候我就会想，用户不可能连这个都没装吧，这是 Android L 的新特性，有系统应用支持肯定不会有问题的。结果都出问题了。可能是用户真的没有安装这类应用，譬如用户用的是模拟器什么类的特殊平台，或者有什么权限的限制。看到错误日志之后，我就直接获取 ActivityNotFoundException，然后忽略。但这并不是一个好的处理方式，因为 ActivityNotFoundException 继承的是 RuntimeException。没有人会不做边界检查直接捕获 IndexOutOfBoundsException。这时候 <a href="http://developer.android.com/reference/android/content/pm/PackageManager.html#resolveActivity(android.content.Intent, int)">resolveActivity</a> 的重要性就体出来了。只需要调用再看看返回值是否为 null 就行了。</p></div><div class="comments"><div id="disqus_thread"></div><script type="text/javascript">
        var disqus_shortname = 'seven332';
        var disqus_identifier = 'resolveactivity-de-zhong-yao-xing.html';
        var disqus_url = 'http://seven332.github.io/resolveactivity-de-zhong-yao-xing.html';
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//seven332.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script><noscript>Please enable JavaScript to view the comments.</noscript></div></article></section><section id="extras" class="body"><div class="blogroll"><h2>友情链接</h2><ul><li><a href="#">无</a></li></ul></div><div class="social"><h2>社交</h2><ul><li><a href="http://seven332.github.io/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">rss feed</a></li><li><a href="http://github.com/seven332">github</a></li></ul></div></section><footer id="contentinfo" class="body"><address id="about" class="vcard body"> 自豪地采用 <a href="http://getpelican.com/">Pelican</a>，多谢 <a href="http://python.org">Python</a></address><p>该主题修改自 <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">notmyidea</a></p></footer><script type="text/javascript">
    var disqus_shortname = 'seven332';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script></body></html>